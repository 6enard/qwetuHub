export const calculateDeliveryFee = (subtotal: number): number => {
  // For orders above 10,000 KES, delivery fee is 2500
  if (subtotal > 10000) return 2500;

  const tiers = [
    { min: 1, max: 300, fee: 50 },
    { min: 301, max: 500, fee: 100 },
    { min: 501, max: 700, fee: 150 },
    { min: 701, max: 900, fee: 200 },
    { min: 901, max: 1100, fee: 250 },
    { min: 1101, max: 1300, fee: 300 },
    { min: 1301, max: 1500, fee: 350 },
    { min: 1501, max: 1700, fee: 400 },
    { min: 1701, max: 1900, fee: 450 },
    { min: 1901, max: 2100, fee: 500 },
    { min: 2101, max: 2300, fee: 550 },
    { min: 2301, max: 2500, fee: 600 },
    { min: 2501, max: 2700, fee: 650 },
    { min: 2701, max: 2900, fee: 700 },
    { min: 2901, max: 3100, fee: 750 },
    { min: 3101, max: 3300, fee: 800 },
    { min: 3301, max: 3500, fee: 850 },
    { min: 3501, max: 3700, fee: 900 },
    { min: 3701, max: 3900, fee: 950 },
    { min: 3901, max: 4100, fee: 1000 },
    { min: 4101, max: 4300, fee: 1050 },
    { min: 4301, max: 4500, fee: 1100 },
    { min: 4501, max: 4700, fee: 1150 },
    { min: 4701, max: 4900, fee: 1200 },
    { min: 4901, max: 5100, fee: 1250 },
    { min: 5101, max: 5300, fee: 1300 },
    { min: 5301, max: 5500, fee: 1350 },
    { min: 5501, max: 5700, fee: 1400 },
    { min: 5701, max: 5900, fee: 1450 },
    { min: 5901, max: 6100, fee: 1500 },
    { min: 6101, max: 6300, fee: 1550 },
    { min: 6301, max: 6500, fee: 1600 },
    { min: 6501, max: 6700, fee: 1650 },
    { min: 6701, max: 6900, fee: 1700 },
    { min: 6901, max: 7100, fee: 1750 },
    { min: 7101, max: 7300, fee: 1800 },
    { min: 7301, max: 7500, fee: 1850 },
    { min: 7501, max: 7700, fee: 1900 },
    { min: 7701, max: 7900, fee: 1950 },
    { min: 7901, max: 8100, fee: 2000 },
    { min: 8101, max: 8300, fee: 2050 },
    { min: 8301, max: 8500, fee: 2100 },
    { min: 8501, max: 8700, fee: 2150 },
    { min: 8701, max: 8900, fee: 2200 },
    { min: 8901, max: 9100, fee: 2250 },
    { min: 9101, max: 9300, fee: 2300 },
    { min: 9301, max: 9500, fee: 2350 },
    { min: 9501, max: 9700, fee: 2400 },
    { min: 9701, max: 9900, fee: 2450 },
    { min: 9901, max: 10000, fee: 2500 }
  ];

  const tier = tiers.find(t => subtotal >= t.min && subtotal <= t.max);
  return tier ? tier.fee : 2500; // Default to 2500 if no tier matches (amount > 10000)
};